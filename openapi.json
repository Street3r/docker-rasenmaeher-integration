{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/v1/healthcheck":{"get":{"tags":["healthcheck"],"summary":"Request Healthcheck","description":"Basic health check. Success = 200. Checks the following things.\n- Local sqlite connection","operationId":"request_healthcheck_api_v1_healthcheck_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Request Healthcheck Api V1 Healthcheck Get"}}}}}}},"/api/v1/healthcheck/delivery":{"get":{"tags":["healthcheck"],"summary":"Request Healthcheck Delivery","description":"Delivery endpoint healthcheck.\n200 {\"state\":\"ready-for-delivery\"}\n201 {\"detail\":{\"state\":\"init\"}}\n204 {\"detail\":{\"state\":\"waiting-for-services\"}}","operationId":"request_healthcheck_delivery_api_v1_healthcheck_delivery_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Request Healthcheck Delivery Api V1 Healthcheck Delivery Get"}}}}}}},"/api/v1/healthcheck/services":{"get":{"tags":["healthcheck"],"summary":"Request Healthcheck Services","description":"Serices endpoint healthcheck.\nreturn list of services","operationId":"request_healthcheck_services_api_v1_healthcheck_services_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Request Healthcheck Services Api V1 Healthcheck Services Get"}}}}}}},"/api/v1/product/sign_csr":{"post":{"tags":["product"],"summary":"Return Ca And Sign Csr","description":"Used by product integration API to request signing of their mTLS client cert","operationId":"return_ca_and_sign_csr_api_v1_product_sign_csr_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificatesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificatesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"/api/v1/product/renew_csr":{"post":{"tags":["product"],"summary":"Renew Csr","description":"Used by product integration API to request renew of their mTLS client cert","operationId":"renew_csr_api_v1_product_renew_csr_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificatesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CertificatesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"MTLSHeader":[]}]}},"/api/v1/product/ready":{"post":{"tags":["product"],"summary":"Signal Ready","description":"Used by product integration API to signify everything is ready in their end","operationId":"signal_ready_api_v1_product_ready_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"MTLSHeader":[]}]}},"/api/v1/check-auth/jwt":{"get":{"tags":["info"],"summary":"Return Jwt Payload","description":"Method for testing JWT","operationId":"return_jwt_payload_api_v1_check_auth_jwt_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Return Jwt Payload Api V1 Check Auth Jwt Get"}}}}},"security":[{"JWTBearer":[]}]}},"/api/v1/check-auth/mtls":{"get":{"tags":["info"],"summary":"Return Mtls Payload","description":"Method for testing mTLS","operationId":"return_mtls_payload_api_v1_check_auth_mtls_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Return Mtls Payload Api V1 Check Auth Mtls Get"}}}}},"security":[{"MTLSHeader":[]}]}},"/api/v1/check-auth/mtls_or_jwt":{"get":{"tags":["info"],"summary":"Return Mtlsjwt Payload","description":"Method for testing mTLS and JWT auth","operationId":"return_mtlsjwt_payload_api_v1_check_auth_mtls_or_jwt_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MTLSorJWTPayload"}}}}},"security":[{"MTLSorJWT":[]}]}},"/api/v1/check-auth/mtls_or_jwt/permissive":{"get":{"tags":["info"],"summary":"Return Mtlsjwt Payload Permissive","description":"Method for testing mTLS and JWT auth, do not disallow any subjects","operationId":"return_mtlsjwt_payload_permissive_api_v1_check_auth_mtls_or_jwt_permissive_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MTLSorJWTPayload"}}}}},"security":[{"MTLSorJWT":[]}]}},"/api/v1/check-auth/ldap/connection-string":{"get":{"tags":["info"],"summary":"Return Ldap Connectionstring","description":"Method for generating and returning ldap connection string","operationId":"return_ldap_connectionstring_api_v1_check_auth_ldap_connection_string_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Return Ldap Connectionstring Api V1 Check Auth Ldap Connection String Get"}}}}},"security":[{"MTLSHeader":[]}]}},"/api/v1/enduserpfx/{callsign}":{"get":{"tags":["enduserpfx"],"summary":"Check Enduser Bundle Available","description":"Method to check if bundle is available\n:param callsign: OTTER1\n:returns pfx or 404 error","operationId":"check_enduser_bundle_available_api_v1_enduserpfx__callsign__get","parameters":[{"required":true,"schema":{"type":"string","title":"Callsign"},"name":"callsign","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["enduserpfx"],"summary":"Return Enduser Certs","description":"Method to create key, sign CSR and return PFX\n:param callsign: OTTER1\n:returns pfx","operationId":"return_enduser_certs_api_v1_enduserpfx__callsign__post","parameters":[{"required":true,"schema":{"type":"string","title":"Callsign"},"name":"callsign","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/utils/ldap-conn-string":{"get":{"tags":["utils"],"summary":"Request Utils Ldap Conn String","description":"TODO ldap-conn-string","operationId":"request_utils_ldap_conn_string_api_v1_utils_ldap_conn_string_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LdapConnString"}}}}}}},"/api/v1/utils/keycloak-conn-string":{"get":{"tags":["utils"],"summary":"Request Utils Keycloak Conn String","description":"TODO ldap-conn-string","operationId":"request_utils_keycloak_conn_string_api_v1_utils_keycloak_conn_string_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KeyCloakConnString"}}}}}}},"/api/v1/utils/crl":{"get":{"tags":["utils"],"summary":"Return Crl","description":"Method for TAK sign CSR and request CA\nparams: csr","operationId":"return_crl_api_v1_utils_crl_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/enrollment/generate-verification-code":{"post":{"tags":["enrollment"],"summary":"Post Generate Verification Code","description":"Update/Generate verification_code on database for given work_id or work_id_hash","operationId":"post_generate_verification_code_api_v1_enrollment_generate_verification_code_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentGenVerifiIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] Generated hash for work-id"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"work_id_hash":"kissa123"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentGenVerifiOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/show-verification-code-info":{"get":{"tags":["enrollment"],"summary":"Request Show Verification Code","description":"/show-verification-code-info?user_management_hash=dasqdsdasqwe&verification_code=jaddajaa\nReturn's information about the user/enrollment that made the code.","operationId":"request_show_verification_code_api_v1_enrollment_show_verification_code_info_get","parameters":[{"required":true,"schema":{"type":"string","title":"User Management Hash"},"name":"user_management_hash","in":"query"},{"required":true,"schema":{"type":"string","title":"Verification Code"},"name":"verification_code","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentShowVerificationCodeOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/have-i-been-accepted":{"get":{"tags":["enrollment"],"summary":"Request Have I Been Accepted","description":"/have-i-been-accepted?work_id_hash=jaddajaa\nReturn's True/False in 'have_i_been_accepted'","operationId":"request_have_i_been_accepted_api_v1_enrollment_have_i_been_accepted_get","parameters":[{"required":true,"schema":{"type":"string","title":"Work Id Hash"},"name":"work_id_hash","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentHaveIBeenAcceptedOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/config/set-state":{"post":{"tags":["enrollment"],"summary":"Post Config Set State","description":"Update/Set state/status for work_id/user/enrollment using either work_id_hash or work_id.","operationId":"post_config_set_state_api_v1_enrollment_config_set_state_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentConfigSetStateIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"state":"[str] - Current state of enrollment","work_id":"[str] User defined username/id/workname","work_id_hash":"[str]"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"state":"somestate","work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"state":"somestate","work_id_hash":"kissa123"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentConfigTaskDone"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/config/set-mtls-test-link":{"post":{"tags":["enrollment"],"summary":"Post Config Set Mtls Test Link","description":"Set MTLS test link for one or all work_id's","operationId":"post_config_set_mtls_test_link_api_v1_enrollment_config_set_mtls_test_link_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentConfigSetMtlsIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"mtls_test_link":"[str] - Link where mtls can be tested","set_for_all":"[bool] - Set mtls test link for everyone?","work_id":"[str]","work_id_hash":"[str]"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"mtls_test_link":"https://kuvaton.com/kissa123.jpg","set_for_all":false,"work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"mtls_test_link":"https://kuvaton.com/kissa123.jpg","set_for_all":true}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentConfigTaskDone"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/config/set-cert-dl-link":{"post":{"tags":["enrollment"],"summary":"Post Config Set Cert Dl Link","description":"Store certificate or howto download link url for work_id (enrollment) using either work_id or work_id_hash","operationId":"post_config_set_cert_dl_link_api_v1_enrollment_config_set_cert_dl_link_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentConfigSetDLCertIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"cert_download_link":"[str] - Link where certificate package can be downloaded","howto_download_link":"[str] - Link where howto info can be downloaded","work_id":"[str] User defined username/id/workname","work_id_hash":"[str]"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"cert_download_link":"https://kuvaton.com/kissa123.jpg","howto_download_link":"https://kuvaton.com/kissa123.jpg","work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"cert_download_link":"https://kuvaton.com/kissa123.jpg","howto_download_link":"https://kuvaton.com/kissa123.jpg","work_id_hash":"kissa123"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentConfigTaskDone"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/config/add-service-management-hash":{"post":{"tags":["enrollment"],"summary":"Post Config Add Manager","description":"Add new \"management hash\" with certain permissions. This is not same as users/work-id's promotion to admin.\nYou should think this as of adding \"machine admin permissions\". User related admin promotions should\nbe done using /promote and /demote /lock.","operationId":"post_config_add_manager_api_v1_enrollment_config_add_service_management_hash_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentAddServiceManagementIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"new_service_management_hash":"[str] - Hash string for new 'service_management_hash'","permissions_str":"[str] - Set permission string for new management_hash."}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"new_service_management_hash":"asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2","permissions_str":"[str] - Set permission for new management_hash."}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentConfigTaskDone"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/status":{"get":{"tags":["enrollment"],"summary":"Request Enrolment Status","description":"Check the status for given work_id (enrollment). status=None means that there is no enrollment with given work_id","operationId":"request_enrolment_status_api_v1_enrollment_status_get","parameters":[{"required":true,"schema":{"type":"string","title":"Work Id"},"name":"work_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentStatusOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/list":{"get":{"tags":["enrollment"],"summary":"Request Enrollment List","description":"/list?user_management_hash=dasqdsdasqwe\nReturn users/work-id's/enrollments. If 'accepted' has something else than '', it has been accepted.\nReturns a list of dicts, work_id_list = [ {  \"work_id\":'x', 'work_id_hash':'yy', 'state':'init', 'accepted':'' } ]","operationId":"request_enrollment_list_api_v1_enrollment_list_get","parameters":[{"required":true,"schema":{"type":"string","title":"User Management Hash"},"name":"user_management_hash","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentListOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/init":{"post":{"tags":["enrollment"],"summary":"Request Enrollment Init","description":"Add new work_id (enrollment) to environment.","operationId":"request_enrollment_init_api_v1_enrollment_init_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentInitIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"work_id":"[str] - Plain text enrollment role id","user_management_hash":"[str] - Hash string having permissions to add work_id_hash"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"work_id":"taikaponi","user_management_hash":"[str] - Hash string having permissions to add work_id_hash"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentInitOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/promote":{"post":{"tags":["enrollment"],"summary":"Request Enrollment Promote","description":"\"Promote\" work_id/user/enrollment to have 'admin' rights","operationId":"request_enrollment_promote_api_v1_enrollment_promote_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentPromoteIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","management_hash":"[str] - Hash string used to 'promote' given work_id/user/enrollment"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id":"kissa123","management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentConfigTaskDone"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/demote":{"post":{"tags":["enrollment"],"summary":"Request Enrollment Demote","description":"\"Demote\" work_id/user/enrollment from having 'admin' rights. work_id_hash can be used too.","operationId":"request_enrollment_demote_api_v1_enrollment_demote_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentDemoteIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","management_hash":"[str] - Hash string used to 'promote' given work_id/user/enrollment"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id":"kissa123","management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentConfigTaskDone"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/lock":{"post":{"tags":["enrollment"],"summary":"Request Enrollment Lock","description":"Lock work_id/user/enrollment so it cannot be used anymore.","operationId":"request_enrollment_lock_api_v1_enrollment_lock_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentLockIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","management_hash":"[str] - Hash string used to 'promote' given work_id/user/enrollment"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id":"kissa123","management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentConfigTaskDone"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/deliver":{"get":{"tags":["enrollment"],"summary":"Request Enrollment Status","description":"Deliver download url link using work_id_hash","operationId":"request_enrollment_status_api_v1_enrollment_deliver_get","parameters":[{"required":true,"schema":{"type":"string","title":"Work Id Hash"},"name":"work_id_hash","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentDeliverOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/accept":{"post":{"tags":["enrollment"],"summary":"Post Enrollment Accept","description":"Accept work_id_hash (work_id/enrollment) using management_hash","operationId":"post_enrollment_accept_api_v1_enrollment_accept_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentAcceptIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id_hash":"[str] - Enrollment hash string.","user_management_hash":"[str] - Hash string having permissions to accept work_id_hash"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id_hash":"kissa123","user_management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentAcceptOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/invitecode/create":{"post":{"tags":["enrollment"],"summary":"Post Invite Code","description":"Create a new invite code using user_management_hash\nThis method checks for permission user-admin\nThis method checks for existing invite code and updates it if found\nThis method creates invite code if not found","operationId":"post_invite_code_api_v1_enrollment_invitecode_create_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentInviteCodeCreateIn"}],"title":"Request In","examples":[{"user_management_hash":"[str] - Admin hash string having permissions to create invite code"}]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentInviteCodeCreateOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/invitecode":{"get":{"tags":["enrollment"],"summary":"Get Invite Codes","description":"/invitecode?code=xxx\nReturns true/false if the code is usable or not","operationId":"get_invite_codes_api_v1_enrollment_invitecode_get","parameters":[{"required":true,"schema":{"type":"string","title":"Invitecode"},"name":"invitecode","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentIsInvitecodeActiveOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/enrollment/invitecode/enroll":{"post":{"tags":["enrollment"],"summary":"Post Enroll Invite Code","description":"Enroll with an invite code","operationId":"post_enroll_invite_code_api_v1_enrollment_invitecode_enroll_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/EnrollmentInviteCodeEnrollIn"}],"title":"Request In","examples":[{"invitecode":"[str] - Code that is used validate enrollment init for work_id","work_id":"[str] User defined username/id/workname"}]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollmentInitOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/firstuser/is-active":{"get":{"tags":["firstuser"],"summary":"Get Is Active","description":"/is-active, basically this one just checks if there is a row with special_rules='first-user' in management table.\nIf not, then this API is deemed to be \"disabled\"...","operationId":"get_is_active_api_v1_firstuser_is_active_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstuserIsActiveOut"}}}}}}},"/api/v1/firstuser/check-code":{"get":{"tags":["firstuser"],"summary":"Get Check Code","description":"/check-code?temp_admin_code=xxxx,\nChecks if the given code can be used or not in this /firstuser api route...","operationId":"get_check_code_api_v1_firstuser_check_code_get","parameters":[{"required":true,"schema":{"type":"string","title":"Temp Admin Code"},"name":"temp_admin_code","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstuserCheckCodeOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/firstuser/disable":{"post":{"tags":["firstuser"],"summary":"Post Disable","description":"This one disables the /firstuser API route. permit_str aka \"admin hash\" is required.\nCannot be done with temp_admin_code.","operationId":"post_disable_api_v1_firstuser_disable_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FirstuserDisableIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"permit_str":"[str] - admin users string"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"permit_str":"some_permit_hash_abba_abc"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstuserDisableOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/firstuser/enable":{"post":{"tags":["firstuser"],"summary":"Post Enable","description":"This one enables the /firstuser API route. permit_str aka \"admin hash\" is required.\nCannot be done with temp_admin_code. This was mainly added because pytests kind a needs it.","operationId":"post_enable_api_v1_firstuser_enable_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FirstuserEnableIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"permit_str":"[str] - admin users string"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"permit_str":"some_permit_hash_abba_abc"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstuserEnableOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/firstuser/add-admin":{"post":{"tags":["firstuser"],"summary":"Post Admin Add","description":"Add work_id aka username/identity. This work_id is also elevated to have managing permissions.","operationId":"post_admin_add_api_v1_firstuser_add_admin_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FirstuserAddAdminIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"temp_admin_code":"[str] - admin users string","work_id":"[str] - id/name for new user that is elevated to admin"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"temp_admin_code":"first_time_user_secret_or_something","work_id":"porakoira666"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstuserAddAdminOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/firstuser/delete-admin":{"post":{"tags":["firstuser"],"summary":"Post Delete Admin","description":"Remove work_id aka username/identity. The work_id's management hash is also removed from management table.","operationId":"post_delete_admin_api_v1_firstuser_delete_admin_post","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FirstuserDeleteAdminIn"}],"title":"Request In","examples":[[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"temp_admin_code":"[str] - admin users string","work_id":"[str] - id/name for user that will be deleted"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"temp_admin_code":"first_time_user_secret_or_something","work_id":"porakoira666"}}]]}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstuserDeleteAdminOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/firstuser/list-admin":{"get":{"tags":["firstuser"],"summary":"Get List Admin","description":"Return available 'admin' id's and hashes.","operationId":"get_list_admin_api_v1_firstuser_list_admin_get","parameters":[{"required":true,"schema":{"type":"string","title":"Temp Admin Code"},"name":"temp_admin_code","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstuserListAdminOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/token/jwt/exchange":{"post":{"tags":["tokens","tokens"],"summary":"Exchange Token","description":"API method for converting TILAUSPALVELU issues single-use JWT to RASENMAEHER session JWT","operationId":"exchange_token_api_v1_token_jwt_exchange_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWTExchangeRequestResponse"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWTExchangeRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/token/jwt/refresh":{"get":{"tags":["tokens","tokens"],"summary":"Refresh Token","description":"Refresh your JWT","operationId":"refresh_token_api_v1_token_jwt_refresh_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWTExchangeRequestResponse"}}}}},"security":[{"JWTBearer":[]}]}},"/api/v1/token/code/generate":{"post":{"tags":["tokens","tokens"],"summary":"Create Code","description":"Generate an alphanumeric code that can be exchanged for JWT with the given claims","operationId":"create_code_api_v1_token_code_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCodeCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCodeRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"/api/v1/token/code/exchange":{"post":{"tags":["tokens","tokens"],"summary":"Exchange Code","description":"Exchange code for JWT","operationId":"exchange_code_api_v1_token_code_exchange_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCodeRequestResponse"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JWTExchangeRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CertificatesRequest":{"properties":{"csr":{"type":"string","title":"Csr","description":"CSR, cfssl encoded (newlines -> \\n)"}},"type":"object","required":["csr"],"title":"CertificatesRequest","description":"Request signed cert"},"CertificatesResponse":{"properties":{"ca":{"type":"string","title":"Ca","description":"CA chain, cfssl encoded (newlines -> \\n)"},"certificate":{"type":"string","title":"Certificate","description":"Signed cert, cfssl encoded (newlines -> \\n)"}},"type":"object","required":["ca","certificate"],"title":"CertificatesResponse","description":"Respond with signed client cert and CA chain"},"EnrollmentAcceptIn":{"properties":{"work_id_hash":{"type":"string","title":"Work Id Hash"},"user_management_hash":{"type":"string","title":"User Management Hash"}},"type":"object","required":["work_id_hash","user_management_hash"],"title":"EnrollmentAcceptIn","description":"Enrollment init out response schema","examples":[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id_hash":"[str] - Enrollment hash string.","user_management_hash":"[str] - Hash string having permissions to accept work_id_hash"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id_hash":"kissa123","user_management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]},"EnrollmentAcceptOut":{"properties":{"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"},"management_hash":{"type":"string","title":"Management Hash"}},"type":"object","required":["work_id","work_id_hash","management_hash"],"title":"EnrollmentAcceptOut","description":"Enrollment init out response schema","example":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","management_hash":"[str] - Hash string used to accept enrollment"}},"EnrollmentAddServiceManagementIn":{"properties":{"new_service_management_hash":{"type":"string","title":"New Service Management Hash"},"permissions_str":{"type":"string","title":"Permissions Str"}},"type":"object","required":["new_service_management_hash","permissions_str"],"title":"EnrollmentAddServiceManagementIn","description":"Enrollment config add manager schema in","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"new_service_management_hash":"[str] - Hash string for new 'service_management_hash'","permissions_str":"[str] - Set permission string for new management_hash."}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"new_service_management_hash":"asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2asdQWEasd2","permissions_str":"[str] - Set permission for new management_hash."}}]},"EnrollmentConfigSetDLCertIn":{"properties":{"cert_download_link":{"type":"string","title":"Cert Download Link"},"howto_download_link":{"type":"string","title":"Howto Download Link"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","title":"EnrollmentConfigSetDLCertIn","description":"Enrollment config add manager schema in","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"cert_download_link":"[str] - Link where certificate package can be downloaded","howto_download_link":"[str] - Link where howto info can be downloaded","work_id":"[str] User defined username/id/workname","work_id_hash":"[str]"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"cert_download_link":"https://kuvaton.com/kissa123.jpg","howto_download_link":"https://kuvaton.com/kissa123.jpg","work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"cert_download_link":"https://kuvaton.com/kissa123.jpg","howto_download_link":"https://kuvaton.com/kissa123.jpg","work_id_hash":"kissa123"}}]},"EnrollmentConfigSetMtlsIn":{"properties":{"mtls_test_link":{"type":"string","title":"Mtls Test Link"},"set_for_all":{"type":"boolean","title":"Set For All"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","required":["mtls_test_link","set_for_all"],"title":"EnrollmentConfigSetMtlsIn","description":"Enrollment config set mtls schema in","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"mtls_test_link":"[str] - Link where mtls can be tested","set_for_all":"[bool] - Set mtls test link for everyone?","work_id":"[str]","work_id_hash":"[str]"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"mtls_test_link":"https://kuvaton.com/kissa123.jpg","set_for_all":false,"work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"mtls_test_link":"https://kuvaton.com/kissa123.jpg","set_for_all":true}}]},"EnrollmentConfigSetStateIn":{"properties":{"state":{"type":"string","title":"State"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","required":["state"],"title":"EnrollmentConfigSetStateIn","description":"Enrollment config add manager schema in","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"state":"[str] - Current state of enrollment","work_id":"[str] User defined username/id/workname","work_id_hash":"[str]"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"state":"somestate","work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"state":"somestate","work_id_hash":"kissa123"}}]},"EnrollmentConfigTaskDone":{"properties":{"success_message":{"type":"string","title":"Success Message"}},"type":"object","required":["success_message"],"title":"EnrollmentConfigTaskDone","description":"Enrollment config add manager schema out","example":{"success_message":"[str] - Task completed message"}},"EnrollmentDeliverOut":{"properties":{"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"},"cert_download_link":{"type":"string","title":"Cert Download Link"},"howto_download_link":{"type":"string","title":"Howto Download Link"},"mtls_test_link":{"type":"string","title":"Mtls Test Link"}},"type":"object","required":["work_id","work_id_hash","cert_download_link","howto_download_link","mtls_test_link"],"title":"EnrollmentDeliverOut","description":"Enrollment init out response schema","example":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","cert_download_link":"[str] - Link where certificate package can be downloaded","howto_download_link":"[str] - Link where certificate install howto can be downloaded","mtls_test_link":"[str] - Link that can be used to test mtls connection"}},"EnrollmentDemoteIn":{"properties":{"user_management_hash":{"type":"string","title":"User Management Hash"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","required":["user_management_hash"],"title":"EnrollmentDemoteIn","description":"Enrollment demote in schema","examples":[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","management_hash":"[str] - Hash string used to 'promote' given work_id/user/enrollment"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id":"kissa123","management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]},"EnrollmentGenVerifiIn":{"properties":{"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","title":"EnrollmentGenVerifiIn","description":"Enrollment gen verification code in","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] Generated hash for work-id"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"work_id":"kissa"}},{"name":"with_values2","summary":"Example values","description":"**Example** of values.","value":{"work_id_hash":"kissa123"}}]},"EnrollmentGenVerifiOut":{"properties":{"verification_code":{"type":"string","title":"Verification Code"}},"type":"object","required":["verification_code"],"title":"EnrollmentGenVerifiOut","description":"Enrollment gen verification code out","example":{"verification_code":"[str] Generated verification code for enrollment."}},"EnrollmentHaveIBeenAcceptedOut":{"properties":{"have_i_been_accepted":{"type":"boolean","title":"Have I Been Accepted"}},"type":"object","required":["have_i_been_accepted"],"title":"EnrollmentHaveIBeenAcceptedOut","description":"Enrollment status check schema","example":{"have_i_been_accepted":"[bool] - Accepted status. True/False"}},"EnrollmentInitIn":{"properties":{"work_id":{"type":"string","title":"Work Id"},"user_management_hash":{"type":"string","title":"User Management Hash"}},"type":"object","required":["work_id","user_management_hash"],"title":"EnrollmentInitIn","description":"Enrollment init in response schema","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"work_id":"[str] - Plain text enrollment role id","user_management_hash":"[str] - Hash string having permissions to add work_id_hash"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"work_id":"taikaponi","user_management_hash":"[str] - Hash string having permissions to add work_id_hash"}}]},"EnrollmentInitOut":{"properties":{"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","required":["work_id","work_id_hash"],"title":"EnrollmentInitOut","description":"Enrollment init out response schema","example":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id"}},"EnrollmentInviteCodeCreateIn":{"properties":{"user_management_hash":{"type":"string","title":"User Management Hash"}},"type":"object","required":["user_management_hash"],"title":"EnrollmentInviteCodeCreateIn","description":"Enrollment Invite code request schema","examples":[{"user_management_hash":"[str] - Admin hash string having permissions to create invite code"}]},"EnrollmentInviteCodeCreateOut":{"properties":{"invite_code":{"type":"string","title":"Invite Code"}},"type":"object","required":["invite_code"],"title":"EnrollmentInviteCodeCreateOut","description":"Enrollment Invite code response schema"},"EnrollmentInviteCodeEnrollIn":{"properties":{"invitecode":{"type":"string","title":"Invitecode"},"work_id":{"type":"string","title":"Work Id"}},"type":"object","required":["invitecode","work_id"],"title":"EnrollmentInviteCodeEnrollIn","description":"Enrollment Enrollment Invite code request schema","examples":[{"invitecode":"[str] - Code that is used validate enrollment init for work_id","work_id":"[str] User defined username/id/workname"}]},"EnrollmentIsInvitecodeActiveOut":{"properties":{"invitecode_is_active":{"type":"boolean","title":"Invitecode Is Active"}},"type":"object","required":["invitecode_is_active"],"title":"EnrollmentIsInvitecodeActiveOut","description":"Enrollment config add manager schema out","example":{"invitecode_is_active":"[bool] - True = this code can still be used"}},"EnrollmentListOut":{"properties":{"work_id_list":{"items":{"type":"object"},"type":"array","title":"Work Id List"},"success":{"type":"boolean","title":"Success","default":true},"reason":{"type":"string","title":"Reason","default":""}},"type":"object","required":["work_id_list"],"title":"EnrollmentListOut","description":"Enrollment list out response schema"},"EnrollmentLockIn":{"properties":{"user_management_hash":{"type":"string","title":"User Management Hash"},"lock_reason":{"type":"string","title":"Lock Reason"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","required":["user_management_hash","lock_reason"],"title":"EnrollmentLockIn","description":"Enrollment lock in schema","examples":[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","management_hash":"[str] - Hash string used to 'promote' given work_id/user/enrollment"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id":"kissa123","management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]},"EnrollmentPromoteIn":{"properties":{"user_management_hash":{"type":"string","title":"User Management Hash"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","required":["user_management_hash"],"title":"EnrollmentPromoteIn","description":"Enrollment promote in schema","examples":[{"name":"normal","summary":"Description text","description":"This contains **description** of values.","value":{"work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash string for work_id","management_hash":"[str] - Hash string used to 'promote' given work_id/user/enrollment"}},{"name":"with_values","summary":"Example values","description":"**Example** values.","value":{"work_id":"kissa123","management_hash":"PaulinTaikaKaulinOnKaunis_PaulisMagicPinIsBuuutiful!11!1"}}]},"EnrollmentShowVerificationCodeOut":{"properties":{"state":{"type":"string","title":"State"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"},"accepted":{"type":"string","title":"Accepted"},"locked":{"type":"string","title":"Locked"}},"type":"object","required":["state","work_id","work_id_hash","accepted","locked"],"title":"EnrollmentShowVerificationCodeOut","description":"Enrollment status check schema","example":{"state":"[str] - Current state of enrollment","work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash generated for work_id","accepted":"[str] - Has this been already accepted, empty or 'na' == not accepted","locked":"[str] - Contain info if the enrollment is locked. For unlocked enrollment, it's empty ''"}},"EnrollmentStatusOut":{"properties":{"status":{"type":"string","title":"Status"},"work_id":{"type":"string","title":"Work Id"},"work_id_hash":{"type":"string","title":"Work Id Hash"}},"type":"object","required":["status","work_id","work_id_hash"],"title":"EnrollmentStatusOut","description":"Enrollment status check schema","example":{"state":"[str] - Current state of enrollment","work_id":"[str] User defined username/id/workname","work_id_hash":"[str] - Hash generated for work_id"}},"FirstuserAddAdminIn":{"properties":{"temp_admin_code":{"type":"string","title":"Temp Admin Code"},"work_id":{"type":"string","title":"Work Id"}},"type":"object","required":["temp_admin_code","work_id"],"title":"FirstuserAddAdminIn","description":"Enrollment init in response schema","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"temp_admin_code":"[str] - admin users string","work_id":"[str] - id/name for new user that is elevated to admin"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"temp_admin_code":"first_time_user_secret_or_something","work_id":"porakoira666"}}]},"FirstuserAddAdminOut":{"properties":{"admin_added":{"type":"boolean","title":"Admin Added"}},"type":"object","required":["admin_added"],"title":"FirstuserAddAdminOut","description":"Enrollment config add manager schema out","example":{"admin_added":"[bool] - True = admin user were added"}},"FirstuserCheckCodeOut":{"properties":{"code_ok":{"type":"boolean","title":"Code Ok"}},"type":"object","required":["code_ok"],"title":"FirstuserCheckCodeOut","description":"Enrollment config add manager schema out","example":{"code_ok":"[bool] - True = Requested 'first use admin code' was found and can be used."}},"FirstuserDeleteAdminIn":{"properties":{"temp_admin_code":{"type":"string","title":"Temp Admin Code"},"work_id":{"type":"string","title":"Work Id"}},"type":"object","required":["temp_admin_code","work_id"],"title":"FirstuserDeleteAdminIn","description":"Enrollment init in response schema","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"temp_admin_code":"[str] - admin users string","work_id":"[str] - id/name for user that will be deleted"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"temp_admin_code":"first_time_user_secret_or_something","work_id":"porakoira666"}}]},"FirstuserDeleteAdminOut":{"properties":{"admin_removed":{"type":"boolean","title":"Admin Removed"}},"type":"object","required":["admin_removed"],"title":"FirstuserDeleteAdminOut","description":"Enrollment config add manager schema out","example":{"admin_removed":"[bool] - True = admin user were removed"}},"FirstuserDisableIn":{"properties":{"permit_str":{"type":"string","title":"Permit Str"}},"type":"object","required":["permit_str"],"title":"FirstuserDisableIn","description":"Enrollment init in response schema","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"permit_str":"[str] - admin users string"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"permit_str":"some_permit_hash_abba_abc"}}]},"FirstuserDisableOut":{"properties":{"api_disabled":{"type":"boolean","title":"Api Disabled"}},"type":"object","required":["api_disabled"],"title":"FirstuserDisableOut","description":"Enrollment config add manager schema out","example":{"api_disabled":"[bool] - True = this api (/firstuser) should be disabled now."}},"FirstuserEnableIn":{"properties":{"permit_str":{"type":"string","title":"Permit Str"}},"type":"object","required":["permit_str"],"title":"FirstuserEnableIn","description":"Enrollment init in response schema","examples":[{"name":"normal","summary":"Description text","description":"This containts **description** of values.","value":{"permit_str":"[str] - admin users string"}},{"name":"with_values","summary":"Example values","description":"**Example** of values.","value":{"permit_str":"some_permit_hash_abba_abc"}}]},"FirstuserEnableOut":{"properties":{"api_enabled":{"type":"boolean","title":"Api Enabled"}},"type":"object","required":["api_enabled"],"title":"FirstuserEnableOut","description":"Enrollment config add manager schema out","example":{"api_enabled":"[bool] - True = this api (/firstuser) should be enabled now."}},"FirstuserIsActiveOut":{"properties":{"api_is_active":{"type":"boolean","title":"Api Is Active"}},"type":"object","required":["api_is_active"],"title":"FirstuserIsActiveOut","description":"Enrollment config add manager schema out","example":{"api_is_active":"[bool] - True = this api (/firstuser) can still be used"}},"FirstuserListAdminOut":{"properties":{"admin_list":{"items":{"type":"object"},"type":"array","title":"Admin List"}},"type":"object","required":["admin_list"],"title":"FirstuserListAdminOut","description":"Enrollment config add manager schema out","example":{"admin_list":"list[str] - list of 'admin id's' found..."}},"GenericResponse":{"properties":{"ok":{"type":"boolean","title":"Ok","description":"Is everything ok"},"message":{"type":"string","title":"Message","description":"Any message","default":""}},"type":"object","required":["ok"],"title":"GenericResponse","description":"Generic ok/not-ok response"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JWTExchangeRequestResponse":{"properties":{"jwt":{"type":"string","title":"Jwt","description":"The token"}},"type":"object","required":["jwt"],"title":"JWTExchangeRequestResponse","description":"Exchange a TILAUSPALVELU single-use JWT for RASENMAEHER session JWT"},"KeyCloakConnString":{"properties":{"keycloak_server_url":{"type":"string","title":"Keycloak Server Url"},"keycloak_client_id":{"type":"string","title":"Keycloak Client Id"},"keycloak_realm_name":{"type":"string","title":"Keycloak Realm Name"},"keycloak_client_s_sting":{"type":"string","title":"Keycloak Client S Sting"},"success":{"type":"boolean","title":"Success"},"reason":{"type":"string","title":"Reason"}},"type":"object","required":["success"],"title":"KeyCloakConnString","description":"Utils / Keycloak conn string schema"},"LdapConnString":{"properties":{"ldap_conn_string":{"type":"string","title":"Ldap Conn String"},"ldap_user":{"type":"string","title":"Ldap User"},"ldap_client_secret":{"type":"string","title":"Ldap Client Secret"},"success":{"type":"boolean","title":"Success"},"reason":{"type":"string","title":"Reason"}},"type":"object","required":["success"],"title":"LdapConnString","description":"Utils / LDAP conn string schema"},"LoginCodeCreateRequest":{"properties":{"claims":{"type":"object","title":"Claims","description":"The claims that should be issued when this token is redeemed"}},"type":"object","required":["claims"],"title":"LoginCodeCreateRequest","description":"TILAUSPALVELU asks us to create an one-time login code that user can input to a field.\nIf TILAUSPALVELU wants to revoke a code it should just exchange it and discard the result"},"LoginCodeRequestResponse":{"properties":{"code":{"type":"string","title":"Code","description":"The code user must provide to get a session JWT"}},"type":"object","required":["code"],"title":"LoginCodeRequestResponse","description":"The response to LoginCodeCreateRequest and also used to exchange the code"},"MTLSorJWTPayload":{"properties":{"type":{"$ref":"#/components/schemas/MTLSorJWTPayloadType"},"userid":{"type":"string","title":"Userid"},"payload":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"object"}],"title":"Payload"}},"type":"object","required":["type","userid","payload"],"title":"MTLSorJWTPayload"},"MTLSorJWTPayloadType":{"enum":["jwt","mtls"],"title":"MTLSorJWTPayloadType","description":"Valid payload types"},"ReadyRequest":{"properties":{"product":{"type":"string","title":"Product","description":"Product name"},"apiurl":{"type":"string","title":"Apiurl","description":"Product API URL"},"url":{"type":"string","title":"Url","description":"Product UI URL"}},"type":"object","required":["product","apiurl","url"],"title":"ReadyRequest","description":"Indicate product API readiness"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"JWTBearer":{"type":"http","scheme":"bearer"},"MTLSHeader":{"type":"http","scheme":"header"},"MTLSorJWT":{"type":"http","scheme":"header"}}}}