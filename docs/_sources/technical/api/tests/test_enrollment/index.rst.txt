:py:mod:`tests.test_enrollment`
===============================

.. py:module:: tests.test_enrollment

.. autoapi-nested-parse::

   Test enrollment endpoint



Module Contents
---------------


Functions
~~~~~~~~~

.. autoapisummary::

   tests.test_enrollment.test_enroll_verif_code
   tests.test_enrollment.test_enroll_verif_code_fail_no_jwt
   tests.test_enrollment.test_enroll_show_verif_code
   tests.test_enrollment.test_enroll_show_verifcode_bad_code
   tests.test_enrollment.test_show_verifcode_no_jwt
   tests.test_enrollment.test_show_verifcode_no_permission
   tests.test_enrollment.test_show_verifcode_sub_is_bonkers
   tests.test_enrollment.test_have_i_been_accepted_yes
   tests.test_enrollment.test_have_i_been_accepted_no
   tests.test_enrollment.test_have_i_been_accepted_no_jwt
   tests.test_enrollment.test_status_koira
   tests.test_enrollment.test_status_not_found
   tests.test_enrollment.test_list_as_adm
   tests.test_enrollment.test_list_as_usr
   tests.test_enrollment.test_post_init
   tests.test_enrollment.test_init_as_usr
   tests.test_enrollment.test_promote_demote
   tests.test_enrollment.test_promote_as_usr
   tests.test_enrollment.test_lock
   tests.test_enrollment.test_lock_as_usr
   tests.test_enrollment.test_accept
   tests.test_enrollment.test_accept_as_usr
   tests.test_enrollment.test_accept_no_such_user
   tests.test_enrollment.test_invitecode_create
   tests.test_enrollment.test_create_as_usr
   tests.test_enrollment.test_invitecode_dectivate
   tests.test_enrollment.test_invitecode_activate
   tests.test_enrollment.test_invite_code
   tests.test_enrollment.test_enroll_with_invite_code



Attributes
~~~~~~~~~~

.. autoapisummary::

   tests.test_enrollment.LOGGER


.. py:data:: LOGGER

   

.. py:function:: test_enroll_verif_code(tilauspalvelu_jwt_admin_client)
   :async:

   Test - verification code should succeed


.. py:function:: test_enroll_verif_code_fail_no_jwt(unauth_client)
   :async:

   Test - No JWT --> fail


.. py:function:: test_enroll_show_verif_code(tilauspalvelu_jwt_admin_client)
   :async:

   Test - show verification code info


.. py:function:: test_enroll_show_verifcode_bad_code(tilauspalvelu_jwt_admin_client)
   :async:

   Test - show verification code info


.. py:function:: test_show_verifcode_no_jwt(unauth_client)
   :async:

   Test - no JWT, should fail


.. py:function:: test_show_verifcode_no_permission(tilauspalvelu_jwt_user_client)
   :async:

   Test - no such code --> fail


.. py:function:: test_show_verifcode_sub_is_bonkers(tilauspalvelu_jwt_without_proper_user_client)
   :async:

   Test - sub in JWT cannot be found


.. py:function:: test_have_i_been_accepted_yes(tilauspalvelu_jwt_user_client)
   :async:

   Test - have i been accepted, yes


.. py:function:: test_have_i_been_accepted_no(tilauspalvelu_jwt_user_koira_client)
   :async:

   Test - have i been accepted, no


.. py:function:: test_have_i_been_accepted_no_jwt(unauth_client)
   :async:

   Test - have i been - no JWt


.. py:function:: test_status_koira(tilauspalvelu_jwt_admin_client)
   :async:

   Test - get status


.. py:function:: test_status_not_found(tilauspalvelu_jwt_admin_client)
   :async:

   Test - no such status


.. py:function:: test_list_as_adm(tilauspalvelu_jwt_admin_client)
   :async:

   Test - list enrollments


.. py:function:: test_list_as_usr(tilauspalvelu_jwt_user_client)
   :async:

   Test - list enrollments as normal user


.. py:function:: test_post_init(tilauspalvelu_jwt_admin_client)
   :async:

   Test - init new user


.. py:function:: test_init_as_usr(tilauspalvelu_jwt_user_client)
   :async:

   Test - init as normal user --> fail


.. py:function:: test_promote_demote(tilauspalvelu_jwt_admin_client)
   :async:

   Test - promote user


.. py:function:: test_promote_as_usr(tilauspalvelu_jwt_user_client)
   :async:

   Test - promote user, no permissions


.. py:function:: test_lock(tilauspalvelu_jwt_admin_client)
   :async:

   Test - lock


.. py:function:: test_lock_as_usr(tilauspalvelu_jwt_user_client)
   :async:

   Test - lock as normal use


.. py:function:: test_accept(tilauspalvelu_jwt_admin_client)
   :async:

   Test - accept enrollment


.. py:function:: test_accept_as_usr(tilauspalvelu_jwt_user_client)
   :async:

   Test - accept, no permissions -> fail


.. py:function:: test_accept_no_such_user(tilauspalvelu_jwt_admin_client)
   :async:

   Test - accept a ghost


.. py:function:: test_invitecode_create(tilauspalvelu_jwt_admin_client)
   :async:

   Test - create invite code


.. py:function:: test_create_as_usr(tilauspalvelu_jwt_user_client)
   :async:

   Test - normal user create invite code --> fail


.. py:function:: test_invitecode_dectivate(tilauspalvelu_jwt_admin_client)
   :async:

   Test - deactivate invite code


.. py:function:: test_invitecode_activate(tilauspalvelu_jwt_admin_client)
   :async:

   Test - activate invite code


.. py:function:: test_invite_code(tilauspalvelu_jwt_admin_client)
   :async:

   Test - check invite code


.. py:function:: test_enroll_with_invite_code(tilauspalvelu_jwt_admin_client, unauth_client)
   :async:

   Test - enroll with invite code


